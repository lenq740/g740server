changelog - G740Server

-----------------------------------
Версия от 2019-09-24
-----------------------------------
Запрос execCopy
	добавлено mode= first|last|after|before
	параметр <имя поля>=значение - подменить значение поля значением из параметра
	параметр <имя поля>.rename=1 - добавить к значению поля слово <копия>

-----------------------------------
Версия от 2019-09-24
-----------------------------------
Обработчики событий на удаление
	- в качестве row обработчикам передаются содержимые строк удаляемой таблицы (связанные таблицы не подцепливаются)

Правка структуры данных
	- корректная обработка ord при добавлении строк
	
Уничтожен механизм vrsession - слишком сложен

Новый механизм трассировки запросов вместо FireBug подключен в include-index.php
	- параметр вызова log=1 включает трассировку, log=0 отключает трассировку

-----------------------------------
Версия от 2019-09-21
-----------------------------------
Правка главного меню системы
	- корректная обработка ord при добавлении и переносе строк

Экспорт в виде SQL скрипта для MSSQL сервера
	- добавлено set dateformat ymd;

-----------------------------------
Версия от 2019-09-18
-----------------------------------
Обработчики событий
	- новое событие onAfterDelete - групповое, передается список строк, вызывается один раз

-----------------------------------
Версия от 2019-09-14
-----------------------------------
utils
	- новый механизм запуска утилиты от имени root - атрибут $isCanExecutedAsRoot, параметр root=1, обработка перенесена в include-utils.php
	- название утилиты перенесено в атрибут $caption
	- исправлена загрузка структуры базы из XML описания для PostGreSQL

-----------------------------------
Версия от 2019-09-11
-----------------------------------
Обработка ошибок запроса save
	Убран поясняющий текст из сообщения об ошибке, так как функционал перенесен на клиента.

-----------------------------------
Версия от 2019-08-31
-----------------------------------
Генерация HTML страниц - полностью перестроена, с потерей совместимости
	- изменен класс PageViewer - из него убран разбор входных параметров, теперь это отдельный класс PageUrlController

-----------------------------------
Версия от 2019-08-29
-----------------------------------
Обработчики событий
	Добавлены новые
		- onBeforeRefresh, onBeforeAppend, onBeforeSave, onBeforeInsert, onBeforeUpdate, onBeforeDelete
		- onRowAfterRefresh, onRowAfterAppend, onRowAfterSave, onRowAfterInsert, onRowAfterUpdate, onRowAfterDelete
		- onRowValid
	Объявлены устаревшими, но поддерживаются для совместимости
		- onValid
		- onAfterSave
		- onAfterInsert
		- onRowReadOnly
	Уничтожены
		- onGetPerm
		
Защита от CSRF уязвимости, включается настройкой csrftoken.enabled
	- В config-g740server-default настройка csrftoken.enabled=true
	- Новый параметр getPP('csrftoken') для хранения значения token
	- Метод execConnect теперь должен инициализировать 'csrftoken', иначе будет диагностирована ошибка
	- Поддержка csrftoken протоколом G740: 
		- include-index.php инициализирует у клиента g740.config.csrfToken
		- include-g740.php передает csrftoken при connect и проверяет в других запросах
	- Поддержка csrftoken механизмом utils
		- formUtils передает csrftoken
		- асинхронный вызов execUtility() передает csrftoken
		- include-utils.php проверяет csrftoken
Запуск утилиты rebuild с правами root по HTTP теперь разрешен только с localhost

-----------------------------------
Версия от 2019-08-28
-----------------------------------
Проверка getOwnerReadOnly() в execAppend() - если поле связи с родительским источником данных не заполнено, операция execAppend() разрешена

Обработка ошибок запроса save
	К сообщению об ошибке при выполнении запроса save добавлен текст: Исправьте и сохраните повторно, или отмените изменения кнопкой 'Отменить (Esc)'

